<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>STAT-1222 Video Grader</title>
    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="icon" href="./images/favicon.png" />
    <script type="module" src="./javascript/index.js" defer></script>
  </head>
  <body>
    <div id="loading-screen">
      <div class="loading-spinner"></div>
      <p>Loading...</p>
    </div>
    <header class="hidden">
      <img
        id="charlotte-logo"
        src="./images/All-in-C.png"
        alt="STAT-1222 Logo"
      />
      <h1>STAT-1222 Video Grader</h1>
      <div id="hamburger-icon">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <nav class="hidden"></nav>
    </header>
    <main class="hidden">
      <div class="content">
        <article>
          <p>
            This is the STAT-1222 Watch Video Assignment Grader! For
            instructions to use this tool, locate the menu in the top-right
            corner of the screen and select the <i>instructions</i> option.
          </p>
          <br />
          <p>
            This tool is designed for the instructors and teaching assistants of
            the STAT-1222 course at UNC Charlotte. It allows you to upload video
            statistics files, manage student names, and set grading parameters
            for the video assignments. It will show the students who have
            completed the assignment for easier grading in Canvas.
          </p>
        </article>
        <form id="assignment-upload">
          <section id="video-statistics-section">
            <h2>Upload Video Statistic Files</h2>
            <p>
              Upload the video statistics files generated by the watch video
              assignments in the studio of canvas. The format must be CSV and it
              is best not to alter the file's content. Multiple files can be
              uploaded at a time by holding down ctrl (windows) or command (mac)
              while clicking on the files.
            </p>
            <input
              type="file"
              id="video-file"
              accept=".csv"
              multiple="multiple"
            />
            <button type="button" id="clear-selection-button">
              Clear Selection
            </button>
          </section>
          <section class="student-names-section">
            <h2>Student Names</h2>
            <label for="name-source-options">
              Select how to provide student names:
            </label>
            <fieldset id="name-source-options">
              <input
                type="radio"
                name="name-source"
                id="saved-names"
                value="saved-names"
                class="name-source-option"
                checked
              />
              <label for="saved-names">Use saved names from browser</label>
              <input
                type="radio"
                name="name-source"
                id="manual-names"
                value="names-textarea"
                class="name-source-option"
              />
              <label for="manual-names">Enter names manually</label>
              <input
                type="radio"
                name="name-source"
                id="upload-names"
                value="names-files"
                class="name-source-option"
              />
              <label for="upload-names">Upload names from file</label>
            </fieldset>
            <textarea
              id="names-textarea"
              rows="5"
              placeholder="Type or paste names with a comma between (e.g.: Alice, Bob, Charlie)"
              class="hidden"
            ></textarea>
            <input
              type="file"
              id="names-file"
              accept=".txt, .csv"
              class="hidden"
            />
            <div id="save-names-option" class="hidden">
              <div>
                <input type="checkbox" id="save-names-checkbox" />
                <label for="save-names-checkbox">
                  Save names in browser (For future use, can be deleted in the
                  menu)
                </label>
              </div>
              <div id="passkey-input" class="hidden">
                <label for="passkey">
                  Enter a simple passkey for encrypting the names (No intense
                  need for complexity, just easy to remember.)
                </label>
                <input type="text" id="passkey" placeholder="Enter passkey" />
              </div>
            </div>
          </section>
          <section id="completion-threshold-section">
            <h2>Completion Threshold</h2>
            <label for="completion-threshold-input">
              The completion threshold indicated what percentage of each video
              the student must watch to be considered complete.
            </label>
            <input
              type="text"
              id="completion-threshold-input"
              placeholder="Enter threshold percentage (e.g., 80% or 0.8)"
              value="80%"
            />
          </section>
          <section id="forgiveness-degree-section">
            <h2>Forgiveness Degree</h2>
            <label for="forgiveness-degree-input">
              The "Forgiveness Degree" is the number of incompleted videos a
              student is allowed to still be considered as completed.
            </label>
            <input
              type="number"
              id="forgiveness-degree-input"
              min="0"
              max="5"
              placeholder="Enter forgiveness degree (0-5)"
            />
          </section>
          <section id="submit-area">
            <button type="submit" id="submit-button">Submit Files</button>
          </section>
          <div id="table-area">
            <table id="grading-results">
              <thead>
                <tr>
                  <th>Student Name</th>
                  <th>Video 1 Completion Rate</th>
                  <th>Video 2 Completion Rate</th>
                  <th>Video 3 Completion Rate</th>
                  <th>Completion Status</th>
                </tr>
              </thead>
              <tbody id="grading-results-body">
                <tr>
                  <td>Bob</td>
                  <td>85%</td>
                  <td>90%</td>
                  <td>80%</td>
                  <td>Completed</td>
                </tr>
                <tr>
                  <td>Alice</td>
                  <td>75%</td>
                  <td>80%</td>
                  <td>70%</td>
                  <td>Completed</td>
                </tr>
              </tbody>
            </table>
          </div>
        </form>
      </div>
      <aside>
        <article id="error-display">
          <h3>Error Messages</h3>
          <dl>
            <dt>File Error</dt>
            <dd>
              The file you uploaded is not a valid CSV file or is not in the
              expected format. Please check the file and try again.
            </dd>
            <dt>Input Threshold</dt>
            <dd>
              The completion threshold must be a valid percentage (e.g., 80% or
              0.8). Please enter a valid value.
            </dd>
          </dl>
        </article>
      </aside>
    </main>
    <footer class="hidden">
      <p>Created by James Holmes for the STAT-1222 Course at UNC Charlotte</p>
      <p>Submit feedback <a href="." target="_blank">here</a>!</p>
    </footer>
  </body>
</html>
